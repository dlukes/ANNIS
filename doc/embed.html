<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ANNIS: Embed ANNIS visualization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="annis_64.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ANNIS
   &#160;<span id="projectnumber">3.5.0</span>
   </div>
   <div id="projectbrief">An open source, versatile web browser-based search and visualization architecture for complex multilevel linguistic corpora with diverse types of annotation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('embed.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Embed ANNIS visualization </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#embed-intro">Introduction </a></li>
<li class="level1"><a href="#embed-params">Parameters </a><ul><li class="level2"><a href="#embed-param-salt">embedded_salt </a></li>
<li class="level2"><a href="#embed-param-interface">embedded_interface </a></li>
<li class="level2"><a href="#embed-param-match">embedded_match </a></li>
<li class="level2"><a href="#embed-param-instance">embedded_instance </a></li>
<li class="level2"><a href="#embed-param-namespace">embedded_ns </a></li>
<li class="level2"><a href="#embed-param-base">embedded_base </a></li>
</ul>
</li>
<li class="level1"><a href="#embed-examples">Examples </a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="embed-intro"></a>
Introduction </h1>
<p>It is possible to embed visualizations of ANNIS into another website or to share links to ANNIS visualizations. This is achieved by a special sub website of ANNIS which has the URL </p><div class="fragment"><div class="line">&lt;annis-base-url&gt;/embeddedvis/&lt;visualizer-short-name&gt;</div></div><!-- fragment --><p> The possible values for the short name are the same as the ones listed in the <a class="el" href="admin-configure-webapp.html#admin-configure-vis">Configuring Visualizations </a> chapter. Additional parameters are used to configure how the visualization should be displayed.</p>
<h1><a class="anchor" id="embed-params"></a>
Parameters </h1>
<p>These are URL query parameters which define the visualizer configuration. Any parameter which is not mentioned here will be treated as visualizer mapping.</p>
<h2><a class="anchor" id="embed-param-salt"></a>
embedded_salt </h2>
<p>An URL from where to fetch to content from. The content must be in the Salt XMI intermediate format. This can be a dynamic query (like a REST call to the <a class="el" href="interfaceannis_1_1service_1_1_query_service.html#a7aecc4f056f9b7df21c85851027ae831">subgraph-function</a> of the service) or a link to a static file.</p>
<h2><a class="anchor" id="embed-param-interface"></a>
embedded_interface </h2>
<p>URL back to the ANNIS instance from which this visualization was generated. When given this will trigger a link to appear in the output which links back to this URL. The URL should contain all the information (e.g. via fragment parameters) to display the query and the selected match.</p>
<h2><a class="anchor" id="embed-param-match"></a>
embedded_match </h2>
<p>A plain text match definition (as produced by the REST <a class="el" href="interfaceannis_1_1service_1_1_query_service.html#a7aded983819fdc6f0cc143cdded8918a">find-function</a>). Example: </p><div class="fragment"><div class="line">salt:/pcc2/11299/#tok_1 tiger::pos::salt:/pcc2/11299/#tok_2</div></div><!-- fragment --><h2><a class="anchor" id="embed-param-instance"></a>
embedded_instance </h2>
<p>Name of an ANNIS sub-instance that should be used. See <a class="el" href="admin-configure-webapp.html#admin-configure-instance">Create and configure instances </a> for more information.</p>
<h2><a class="anchor" id="embed-param-namespace"></a>
embedded_ns </h2>
<p>Namespace which is "triggering" the visualization (see the <a class="el" href="admin-configure-webapp.html#admin-configure-vis">Configuring Visualizations </a> chapter)</p>
<h2><a class="anchor" id="embed-param-base"></a>
embedded_base </h2>
<p>Segmentation base text to use. Some visualizers like <a class="el" href="classannis_1_1visualizers_1_1component_1_1kwic_1_1_k_w_i_c_visualizer.html">KWIC</a> allow to show only a certain base text, this parameter controls which one.</p>
<h1><a class="anchor" id="embed-examples"></a>
Examples </h1>
<p>In this example <a href="https://korpling.german.hu-berlin.de/annis3-snapshot/">https://korpling.german.hu-berlin.de/annis3-snapshot/</a> is the base URL for the ANNIS user interface. When entering the URL</p>
<div class="fragment"><div class="line">https://korpling.german.hu-berlin.de/annis3-snapshot/embeddedvis/grid?</div><div class="line">embedded_ns=tei&amp;</div><div class="line">embedded_instance=&amp;</div><div class="line">embedded_salt=http%3A%2F%2Flocalhost%3A5713%2Fannis%2Fquery%2Fsearch%2Fsubgraph%3Fmatch%3Dtei%3A%3Asic%3A%3Asalt%3A%2FGUM%2FGUM_whow_languages%2F%2523sic_487%26left%3D5%26right%3D5&amp;</div><div class="line">embedded_interface=https://korpling.german.hu-berlin.de/annis3-snapshot/%23_q%3Dc2lj%26_c%3DR1VN%26cl%3D5%26cr%3D5%26s%3D10%26l%3D10%26m%3D12</div></div><!-- fragment --><p> the following web page is <a href="https://korpling.german.hu-berlin.de/annis3-snapshot/embeddedvis/grid?embedded_ns=tei&amp;embedded_instance=&amp;embedded_salt=http%3A%2F%2Flocalhost%3A5713%2Fannis%2Fquery%2Fsearch%2Fsubgraph%3Fmatch%3Dtei%3A%3Asic%3A%3Asalt%3A%2FGUM%2FGUM_whow_languages%2F%2523sic_487%26left%3D5%26right%3D5&amp;embedded_interface=https://korpling.german.hu-berlin.de/annis3-snapshot/%23_q%3Dc2lj%26_c%3DR1VN%26cl%3D5%26cr%3D5%26s%3D10%26l%3D10%26m%3D12">shown</a>: </p><div class="image">
<img src="embed_example1.png" alt="embed_example1.png"/>
<div class="caption">
Embed example 1</div></div>
<p> The namespace is "tei", the instance is the default one (empty name). There is a dynamic URL to the REST web service running at <code>localhost</code> (the service must be reachable by the web server, not the client) and a back-link to the interface is given. All parameters must be URL encoded (especially the ones that are URLs by theirself).</p>
<p>Instead of having only a subgraph with for a single match the following example shows a <a href="https://korpling.german.hu-berlin.de/annis3-snapshot/embeddedvis/htmldoc?embedded_instance=scriptorium2&amp;embedded_match=Abraham::norm::salt:/abraham.our.father/Abraham.XL93-94_merge/%23norm_15&amp;embedded_salt=http%3A%2F%2Flocalhost%3A5713%2Fannis%2Fquery%2Fgraph%2Fabraham.our.father%2FAbraham.XL93-94_merge%3Ffilternodeanno%3Dcb%2CAbraham%3A%3Anorm%2Cpb_xml_id%2Clb%2Chi_rend&amp;embedded_interface=https://korpling.german.hu-berlin.de/annis3-snapshot/scriptorium2%23_q%3Dbm9ybT0i4rKb4rKf4rKp4rKn4rKJIg%26_c%3DYWJyYWhhbS5vdXIuZmF0aGVy%26cl%3D5%26cr%3D5%26s%3D0%26l%3D10%26_seg%3Dd29yZA%26m%3D0&amp;embedded_base=word&amp;config=dipl">complete document</a>: </p><div class="fragment"><div class="line">https://korpling.german.hu-berlin.de/annis3-snapshot/embeddedvis/htmldoc?</div><div class="line">embedded_instance=scriptorium2&amp;</div><div class="line">embedded_match=Abraham::norm::salt:/abraham.our.father/Abraham.XL93-94_merge/%23norm_15&amp;</div><div class="line">embedded_salt=http%3A%2F%2Flocalhost%3A5713%2Fannis%2Fquery%2Fgraph%2Fabraham.our.father%2FAbraham.XL93-94_merge%3Ffilternodeanno%3Dcb%2CAbraham%3A%3Anorm%2Cpb_xml_id%2Clb%2Chi_rend&amp;</div><div class="line">embedded_interface=https://korpling.german.hu-berlin.de/annis3-snapshot/scriptorium2%23_q%3Dbm9ybT0i4rKb4rKf4rKp4rKn4rKJIg%26_c%3DYWJyYWhhbS5vdXIuZmF0aGVy%26cl%3D5%26cr%3D5%26s%3D0%26l%3D10%26_seg%3Dd29yZA%26m%3D0&amp;</div><div class="line">embedded_base=word&amp;</div><div class="line">config=dipl</div></div><!-- fragment --><p> <code>embedded_salt</code> refers to the <a class="el" href="interfaceannis_1_1service_1_1_query_service.html#a0be91cbb25b31d8788f6a561cbe82cd9">graph function</a> and this example uses the configuration from the "scriptorium2" instance. The additional parameter <code>config</code> is a mapping parameter of the <code>htmldoc</code> visualizer. </p><div class="image">
<img src="embed_example2.png" alt="embed_example2.png"/>
<div class="caption">
Embed example 2</div></div>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Nov 23 2018 18:29:43 for ANNIS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>